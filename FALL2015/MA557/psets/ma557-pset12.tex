\begin{problem}
Let $R$ be a Noetherian domain. Show that the following are equivalent:
\begin{enumerate}[label=(\roman*)]
\item $R$ is a unique factorization domain
\item every prime ideal of $R$ of height one is principal
\item $R$ is normal with $\Cl(R)=0$.
\end{enumerate}
\end{problem}
\begin{proof}
(i) $\implies$ (ii) Suppose $R$ is a Noetherian domain. Let $\mathfrak{p}$
be a height one prime. Then there exists at least one nonzero element
$x\in\mathfrak{p}$. Let $x=p_1^{\alpha_1}\cdots p_k^{\alpha_k}$ be the
factorization of $x$ into irreducible (prime) elements of $R$. Set
$p\coloneqq p_i$ for any prime in the factorization of $x$. Then the ideal
generated by $p$ is a prime ideal contained in $\mathfrak{p}$, i.e.,
$\langle p \rangle\subset\mathfrak{p}$. But $\Ht(\mathfrak{p})=1$. Thus,
$\langle p \rangle=\mathfrak{p}$.

For the following implication we need the theorem:
\begin{theorem*}[(Krull's Principal Ideal Theorem)]
In a Noetherian ring, every minimal prime ideal of a principal ideal has
height at most $1$.
\end{theorem*}

(ii) $\implies$ (ii) Suppose that every height one prime ideal in $R$ is
principal. To show that $R$ is a UFD, it suffices to show that every
irreducible element $p$ is a prime element, that is, $\langle p\rangle$ is
a prime ideal. Let $\mathfrak{p}$ be the minimal prime containing
$p$. By Krull's principal ideal theorem, $\Ht\mathfrak{p}\leq 1$. Since
$\mathfrak{p}$ is principal, $\mathfrak{p}=\langle x\rangle$ for some
$x\in\mathfrak{p}$. Thus, $p=xy$ for some $y\in R$. But $p$ is prime hence,
irreducible so either $x$ or $y$ is a unit. If $x$ is a unit, then
$\mathfrak{p}=R$, which is a contradiction. Thus, $y$ must be a unit and we
see that $\langle p\rangle=\langle xy\rangle=\mathfrak{p}$ is prime.

Now, for the following implications we need to know a couple of
denfinitions: Let $D(R)$ denote the set of divisional fractional $R$-ideals
and $F(R)$ denote the set of all principal fractional ideals. Then the
\emph{divisor class group of $R$} is the quotient $\Cl(R)\coloneqq
D(R)/F(R)$.

We show $(i)\iff(iii)$. That is, we show that
\end{proof}
\newpage
\begin{problem}
Let $R$ be a ring with total ring of quotients $K$, $M$ an $R$-module, and
\[
\Tor(M)=
\left\{\,x\in M\;\middle|\;
\text{$ax=0$ for some non zero-divisor $a$ of $R$}\,\right\}.
\]
The submodule $\Tor(M)$ is called the \emph{torsion of $M$}, and $M$
is called \emph{torsion free} if $\Tor(M)=0$. Show
\begin{enumerate}[label=(\alph*)]
\item $\Tor(M)=\ker(M\to K\otimes_R M)$
\item $M/\Tor(M)$ is torsion free.
\end{enumerate}
\end{problem}
\begin{proof}
(a) Let $S$ denote the set of all regular elements of $R$ and let
$\varphi\colon R\to K$, where $K\coloneqq S^{-1}R$, be the canonical
localization map $a\mapsto a/1$. We show, by way of double inclusion, that
$\Tor(M)=\ker\Phi$, where $\Phi\colon M\to K\otimes_R M$ is the
canonical map $x\mapsto 1\otimes x$. Note that this map, $\Phi$, is well
defined by the UMP of the tensor product (HW 2). Now let us show the
containment $\Tor(M)\subset\ker\Phi$: Let $x\in\Tor(M)$, then
$x$ is a non-zero divisor of $R$ such that $ax=0$. Since $a$ is a non-zero
divisior, $a\in S$ so $a/1=0/1$ in $K$. Thus, we have
\[
\Phi(xm)=1\otimes x=a/1\otimes x=0\otimes x=0,
\]
so $x\in\ker\Phi$. Conversely, suppose that $x\in\ker(\Phi)$. By some
theorem from the localization section\footnote{Sorry! I misplaced my
notebook and I've been taking notes on sheets of computer paper so I hate
going through the mess.} we have $K\otimes_R M\cong S^{-1}M$. Thus
$1\otimes x=0$ implies that $x=0$ in the localization $S^{-1}M$. This is
true if and only if $ax=0$ for some non-zero divisor $a$ of $R$. Thus,
$x\in\ker\Phi$ and equality holds.
\\\\
(b) We prove the statement elementwise. Let $x\coloneqq x'+\Tor(M)$
be in $M/\Tor(M)$. Then $ax=0$ for some non zero-divisor $a\in
R$. This implies that $ax'+\Tor(M)=0+\Tor(M)$ or
$ax'\in\Tor(M)$. Then $b(ax')=0$ for some non zero-divisor $b\in R$. Since
both $a$ and $b$ are non-zero divisors, and $(ba)x'=0$ then
$x'\in\Tor(M)$. Thus, $\Tor(M)=0$.
\end{proof}
\newpage
\begin{problem}
Let $R$ be a Dedekind domain and $M$ a finitely generated $R$-module of
rank $r$. Show that:
\begin{enumerate}[label=(\alph*)]
\item If $M$ is torsion free then $M$ is projective (hint: induct on $r$).
\item $M\cong \Tor(M)\oplus P$ with $P$ projective.
\item If $M\neq 0$ is projective then $M\cong R^{r-1}\oplus I$ with $I\neq
  0$ an ideal.
\item If $M$ is torsion (i.e., $M=\Tor(M)$) then
\[
M\cong R/I_1\oplus\cdots\oplus R/I_n\qquad\text{with}\qquad
I_1\supset\cdots\supset I_n\neq 0
\]
ideals (hint: for $p_1,...,p_s$ the minimal primes of $\ann(M)$ and
$S=R\minus(\mathfrak{p}_1\cup\cdots\cup\mathfrak{p}_s)$, show that
$S^{-1}R$ is a PID).
\end{enumerate}
\end{problem}
\begin{proof}
% (a) We prove the statement for $r=1$ and then induct on $r$. Let $M$ be
% generated by $x$. Then $M\coloneqq\langle x\rangle$ is an
% $R$-module. Recall that the module $M$ is projective if and only if for
% every short exact sequence
% \[
% 0\longrightarrow M'\longrightarrow M''\longrightarrow M\longrightarrow 0
% \]
% the sequence splits. Let $\mathfrak{m}\in\MSpec R$ and consider the
% localization of $M$ at $\mathfrak{m}$, $M_{\mathfrak{m}}$.
(a) First, we shall prove the following useful lemma:
\begin{lemma*}
Let $R$ be an integral domain and $M$ and $R$-module. Then $M$ is
torsionfree if and only if $M_{\mathfrak{m}}$ is a torsionfree
$R_{\mathfrak{m}}$-module for every $\mathfrak{m}\in\MSpec R$.
\end{lemma*}
\begin{proof}[Proof of lemma]
\renewcommand{\qedsymbol}{$\clubsuit$}
$\implies$ Suppose that $(r/s)(x/t)=0$ for some $s,t\in
R\minus\mathfrak{m}$, $r\in R$. Then there exists some $u\in R$ such that
$urx=0$. If $x\neq 0$, then $ur=0$. But, since $R$ is an integral domain it
follows that $r=0$. Thus, $\Tor_{R_\mathfrak{m}}(M_{\mathfrak{m}})=0$.

$\impliedby$ Conversely, if $M$ is not torsionfree, there exists a nonzero
$x\in M$ with $\ann_R x\neq 0$. Let $\mathfrak{m}\in\MSpec R$ contain
$\ann_R x$. Then, localizing at $\mathfrak{m}$, we have $\bar a\bar x=0$ in
$M_{\mathfrak{m}}$.
\end{proof}
Now, by induction, let $M$, generated by $x$, be a torsionfree $R$
module. Let $\mathfrak{m}\in\MSpec R$. Then $M_{\mathfrak{m}}$ is a
torsionfree $R_{\mathfrak{m}}$-module.

Scratch that, let us proceed from the following: Suppose $M$ has rank
$\rk=1$. Then $M\otimes_R K\cong K$ via the $R$-linear isomorphism
$\varphi$. Hence, $M$ embeds into $K$, i.e., $M'\coloneqq\varphi(M\otimes_R
1)$ is a finitely generated $R$-submodule of $K$. Then we claim that $M'$
is a fractional ideal.
\begin{proof}[Proof of claim]
\renewcommand\qedsymbol{$\clubsuit$}

\end{proof}
\end{proof}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../MA557-HW-Current"
%%% End:
